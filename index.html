<h1>聖誕交換禮物</h1>
人數：
<input type='text' name='num' id='num'/> 
<button onclick="change()">送出</button>

<div id="result"></div>

<script>
    function change() {
        var num = document.getElementById("num").value;
        var people = [];
        for (let i = 1; i <= num; i++) {
            people.push(i);
        }
        var first = true;
        var Giver;
        var Receiver;
        var result = "";
        var first_one;
        var x;
        while (0 != people.length) {
            if (first) {        
                x = people[Math.floor(Math.random() * Math.floor(people.length))];
                first_one = x;
            }
            Receiver = x;
            if (-1 != people.indexOf(x)){
                people.splice(people.indexOf(x), 1);
            }
            Giver = people[Math.floor(Math.random() * Math.floor(people.length))];
            x = Giver;
            people.splice(people.indexOf(Giver), 1);
            result += Giver + " 號的禮物給 " + Receiver + "號<br>";
            if (0 == people.length) {
                result += first_one + " 號的禮物給 " + x + "號<br>";
            }
            first = false;
        }
        document.getElementById("result").innerHTML = result;
    }

</script>